<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Abundant City Policy Atlas</title>
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/icon.svg">
    <link rel="alternate icon" href="/icon.svg">
    <!-- Material Design Icons and Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap">
    <!-- Mapbox -->
    <script src="https://cdn.jsdelivr.net/npm/mapbox-gl@2.15.0/dist/mapbox-gl.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/mapbox-gl@2.15.0/dist/mapbox-gl.css" rel="stylesheet" />
    <script src="https://unpkg.com/supercluster@7.1.5/dist/supercluster.min.js"></script>
    <!-- Material Components Web - Load before inline scripts -->
    <script src="https://unpkg.com/material-components-web@14.0.0/dist/material-components-web.min.js"></script>
    <!-- Custom styles (includes compiled Material Design with density) -->
    <link rel="stylesheet" href="/styles.css">
    <!-- noUiSlider CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nouislider@15.7.1/dist/nouislider.min.css">
    <style>
        /* Map-specific overrides */
        .container {
            max-width: 1400px;
        }

        #map {
            width: 100%;
            height: 600px;
            border-radius: 6px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .map-overlay {
            position: absolute;
            bottom: 40px;
            right: 10px;
            background: white;
            padding: 15px 20px;
            border-radius: 6px;
            max-width: 400px;
            max-height: 500px;
            overflow-y: auto;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 100;
            display: none;
        }

        .map-overlay.active {
            display: block;
        }

        .map-overlay-header {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 2px solid var(--color-light);
        }

        .map-overlay-close {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: #7f8c8d;
        }

        /* Mapbox popup styling */
        .mapboxgl-popup-content {
            padding: 0;
            border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .popup-text {
            padding: 10px 15px;
            font-size: 14px;
            color: var(--color-text);
            cursor: pointer;
            background: white;
        }

        .popup-text:hover {
            background: var(--color-light);
        }

        @media (max-width: 768px) {
            #map {
                height: 400px;
            }
        }

        /* Header icon styling */
        .header-icon-wrapper {
            position: absolute;
            top: 15px;
            right: 15px;
            z-index: 10;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .header-icon {
            width: 40px;
            height: 40px;
            display: block;
        }

        @media (max-width: 768px) {
            .header-icon-wrapper {
                top: 10px;
                right: 10px;
                padding: 6px;
            }

            .header-icon {
                width: 32px;
                height: 32px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-icon-wrapper">
                <img src="icon.svg" alt="" class="header-icon" aria-hidden="true">
            </div>
            <img src="banner.svg" alt="The Abundant City Policy Atlas - Changing Cities By Design" class="banner-img">
            <!-- Hidden text for accessibility -->
            <div class="sr-only">
                <h1>The Abundant City Policy Atlas</h1>
                <p>Changing Cities By Design</p>
            </div>
        </header>

        <div class="main-content">
            <!-- SIDEBAR FILTERS -->
            <aside class="filters-panel">
                <h2 class="mdc-typography--headline6">Filters</h2>

                <!-- Policy Domain Filter (Multi-select Checkboxes) -->
                <div class="filter-group">
                    <div class="mdc-typography--subtitle2 filter-label">Policy Domain</div>
                    <div class="checkbox-group" id="reformTypeCheckboxes">
                        <!-- Populated by JavaScript from database -->
                    </div>
                </div>

                <!-- Level of Government Filter -->
                <div class="filter-group">
                    <div class="mdc-typography--subtitle2 filter-label">Level of Government</div>
                    <div class="checkbox-group">
                        <div class="mdc-form-field">
                            <div class="mdc-checkbox">
                                <input type="checkbox" class="mdc-checkbox__native-control placeTypeCheckbox" id="place-state" value="state">
                                <div class="mdc-checkbox__background">
                                    <svg class="mdc-checkbox__checkmark" viewBox="0 0 24 24">
                                        <path class="mdc-checkbox__checkmark-path" fill="none" d="M1.73,12.91 8.1,19.28 22.79,4.59"/>
                                    </svg>
                                    <div class="mdc-checkbox__mixedmark"></div>
                                </div>
                                <div class="mdc-checkbox__ripple"></div>
                            </div>
                            <label for="place-state">State/Province/Territory</label>
                        </div>
                        <div class="mdc-form-field">
                            <div class="mdc-checkbox">
                                <input type="checkbox" class="mdc-checkbox__native-control placeTypeCheckbox" id="place-county" value="county">
                                <div class="mdc-checkbox__background">
                                    <svg class="mdc-checkbox__checkmark" viewBox="0 0 24 24">
                                        <path class="mdc-checkbox__checkmark-path" fill="none" d="M1.73,12.91 8.1,19.28 22.79,4.59"/>
                                    </svg>
                                    <div class="mdc-checkbox__mixedmark"></div>
                                </div>
                                <div class="mdc-checkbox__ripple"></div>
                            </div>
                            <label for="place-county">Counties</label>
                        </div>
                        <div class="mdc-form-field">
                            <div class="mdc-checkbox">
                                <input type="checkbox" class="mdc-checkbox__native-control placeTypeCheckbox" id="place-city" value="city" checked>
                                <div class="mdc-checkbox__background">
                                    <svg class="mdc-checkbox__checkmark" viewBox="0 0 24 24">
                                        <path class="mdc-checkbox__checkmark-path" fill="none" d="M1.73,12.91 8.1,19.28 22.79,4.59"/>
                                    </svg>
                                    <div class="mdc-checkbox__mixedmark"></div>
                                </div>
                                <div class="mdc-checkbox__ripple"></div>
                            </div>
                            <label for="place-city">Cities</label>
                        </div>
                    </div>
                </div>

                <!-- Region/State Filter (Hierarchical) -->
                <div class="filter-group">
                    <div class="mdc-typography--subtitle2 filter-label">Location</div>
                    <div class="checkbox-group" id="locationCheckboxes">
                        <!-- Populated by JavaScript -->
                    </div>
                </div>

                <!-- Date Range Filter -->
                <div class="filter-group">
                    <div class="mdc-typography--subtitle2 filter-label">Adoption Date Range</div>
                    <div class="date-range-inputs">
                        <label class="mdc-text-field mdc-text-field--outlined mdc-text-field--no-label">
                            <span class="mdc-notched-outline">
                                <span class="mdc-notched-outline__leading"></span>
                                <span class="mdc-notched-outline__trailing"></span>
                            </span>
                            <input type="number" class="mdc-text-field__input" id="fromYear" placeholder="From" min="1900" max="2100">
                        </label>
                        <span class="date-range-separator">to</span>
                        <label class="mdc-text-field mdc-text-field--outlined mdc-text-field--no-label">
                            <span class="mdc-notched-outline">
                                <span class="mdc-notched-outline__leading"></span>
                                <span class="mdc-notched-outline__trailing"></span>
                            </span>
                            <input type="number" class="mdc-text-field__input" id="toYear" placeholder="To" min="1900" max="2100">
                    </label>
                    </div>
                    <div class="mdc-form-field date-checkbox-wrapper">
                        <div class="mdc-checkbox">
                            <input type="checkbox" class="mdc-checkbox__native-control" id="includeUnknownDates" checked>
                            <div class="mdc-checkbox__background">
                                <svg class="mdc-checkbox__checkmark" viewBox="0 0 24 24">
                                    <path class="mdc-checkbox__checkmark-path" fill="none" d="M1.73,12.91 8.1,19.28 22.79,4.59"/>
                                </svg>
                                <div class="mdc-checkbox__mixedmark"></div>
                            </div>
                            <div class="mdc-checkbox__ripple"></div>
                        </div>
                        <label for="includeUnknownDates">Include unknown dates</label>
                    </div>
                </div>

                <!-- Status Filter -->
                <div class="filter-group">
                    <div class="mdc-typography--subtitle2 filter-label">Reform Status</div>
                    <div class="checkbox-group">
                        <div class="mdc-form-field">
                            <div class="mdc-checkbox">
                                <input type="checkbox" class="mdc-checkbox__native-control statusCheckbox" id="status-adopted" value="adopted" checked>
                                <div class="mdc-checkbox__background">
                                    <svg class="mdc-checkbox__checkmark" viewBox="0 0 24 24">
                                        <path class="mdc-checkbox__checkmark-path" fill="none" d="M1.73,12.91 8.1,19.28 22.79,4.59"/>
                                    </svg>
                                    <div class="mdc-checkbox__mixedmark"></div>
                                </div>
                                <div class="mdc-checkbox__ripple"></div>
                            </div>
                            <label for="status-adopted">Adopted</label>
                        </div>
                        <div class="mdc-form-field">
                            <div class="mdc-checkbox">
                                <input type="checkbox" class="mdc-checkbox__native-control statusCheckbox" id="status-proposed" value="proposed">
                                <div class="mdc-checkbox__background">
                                    <svg class="mdc-checkbox__checkmark" viewBox="0 0 24 24">
                                        <path class="mdc-checkbox__checkmark-path" fill="none" d="M1.73,12.91 8.1,19.28 22.79,4.59"/>
                                    </svg>
                                    <div class="mdc-checkbox__mixedmark"></div>
                                </div>
                                <div class="mdc-checkbox__ripple"></div>
                            </div>
                            <label for="status-proposed">Proposed</label>
                        </div>
                        <div class="mdc-form-field">
                            <div class="mdc-checkbox">
                                <input type="checkbox" class="mdc-checkbox__native-control statusCheckbox" id="status-failed" value="failed">
                                <div class="mdc-checkbox__background">
                                    <svg class="mdc-checkbox__checkmark" viewBox="0 0 24 24">
                                        <path class="mdc-checkbox__checkmark-path" fill="none" d="M1.73,12.91 8.1,19.28 22.79,4.59"/>
                                    </svg>
                                    <div class="mdc-checkbox__mixedmark"></div>
                                </div>
                                <div class="mdc-checkbox__ripple"></div>
                            </div>
                            <label for="status-failed">Failed</label>
                        </div>
                    </div>
                </div>

                <!-- Population Filter (Range Slider) -->
                <div class="filter-group">
                    <div class="mdc-typography--subtitle2 filter-label">Population Range</div>
                    <div id="populationSlider" class="population-slider"></div>
                        <div class="slider-values">
                        <span id="populationRangeLabel" class="mdc-typography--caption">0 to 20,000,000</span>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="filter-buttons">
                    <button class="mdc-button mdc-button--raised" id="applyFilters">
                        <span class="mdc-button__ripple"></span>
                        <span class="mdc-button__label">Apply Filters</span>
                    </button>
                    <button class="mdc-button mdc-button--outlined" id="resetFilters">
                        <span class="mdc-button__ripple"></span>
                        <span class="mdc-button__label">Reset</span>
                    </button>
                    <button class="mdc-button mdc-button--outlined" id="shareSearch">
                        <span class="mdc-button__ripple"></span>
                        <i class="material-icons mdc-button__icon" aria-hidden="true">link</i>
                        <span class="mdc-button__label">Share</span>
                    </button>
                </div>
            </aside>

            <!-- MAIN CONTENT -->
            <div class="content-area">
                <!-- Error Banner -->
                <div id="errorMessage" class="mdc-banner mdc-banner--error container-hidden" role="banner">
                    <div class="mdc-banner__content" role="status" aria-live="assertive">
                        <div class="mdc-banner__text"></div>
                        <div class="mdc-banner__actions">
                            <button class="mdc-button mdc-banner__action" type="button" id="dismissError">
                                <span class="mdc-button__ripple"></span>
                                <span class="mdc-button__label">Dismiss</span>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Snackbar for toast notifications -->
                <div id="snackbar" class="mdc-snackbar" aria-live="assertive" aria-atomic="true" aria-hidden="true">
                    <div class="mdc-snackbar__surface">
                        <div class="mdc-snackbar__label" role="status" aria-atomic="true"></div>
                        <div class="mdc-snackbar__actions">
                            <button class="mdc-icon-button mdc-snackbar__action" type="button" aria-label="Close">
                                <i class="material-icons mdc-icon-button__icon">close</i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- View Tabs -->
                <div class="mdc-tab-bar" role="tablist">
                    <div class="mdc-tab-scroller">
                        <div class="mdc-tab-scroller__scroll-area">
                            <div class="mdc-tab-scroller__scroll-content">
                                <button class="mdc-tab mdc-tab--active" role="tab" aria-selected="true" tabindex="0" id="listViewTab">
                                    <span class="mdc-tab__content">
                                        <span class="mdc-tab__icon material-icons" aria-hidden="true">list</span>
                                        <span class="mdc-tab__text-label">List</span>
                                    </span>
                                    <span class="mdc-tab-indicator mdc-tab-indicator--active">
                                        <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
                                    </span>
                                    <span class="mdc-tab__ripple"></span>
                                </button>
                                <button class="mdc-tab" role="tab" aria-selected="false" tabindex="-1" id="mapViewTab">
                                    <span class="mdc-tab__content">
                                        <span class="mdc-tab__icon material-icons" aria-hidden="true">map</span>
                                        <span class="mdc-tab__text-label">Map</span>
                                    </span>
                                    <span class="mdc-tab-indicator">
                                        <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
                                    </span>
                                    <span class="mdc-tab__ripple"></span>
                                </button>
                                <button class="mdc-tab" role="tab" aria-selected="false" tabindex="-1" id="aboutViewTab">
                                    <span class="mdc-tab__content">
                                        <span class="mdc-tab__icon material-icons" aria-hidden="true">info</span>
                                        <span class="mdc-tab__text-label">About</span>
                                    </span>
                                    <span class="mdc-tab-indicator">
                                        <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
                                    </span>
                                    <span class="mdc-tab__ripple"></span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Results Info Banner -->
                <div id="resultsInfo" class="mdc-banner container-hidden" role="banner">
                    <div class="mdc-banner__content" role="status" aria-live="polite">
                        <div class="mdc-banner__text">
                            Found <strong id="resultCount">0</strong> reforms matching your filters
                        </div>
                        <div class="mdc-banner__actions">
                            <button class="mdc-icon-button mdc-banner__action" id="shareBannerBtn" title="Share this search">
                                <i class="material-icons mdc-icon-button__icon">link</i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Loading Spinner -->
                <div id="loadingSpinner" class="loading container-hidden">
                    <div class="mdc-circular-progress" style="width:48px;height:48px;" role="progressbar" aria-label="Loading reforms" aria-valuemin="0" aria-valuemax="1">
                        <div class="mdc-circular-progress__determinate-container">
                            <svg class="mdc-circular-progress__determinate-circle-graphic" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                                <circle class="mdc-circular-progress__determinate-track" cx="24" cy="24" r="18" stroke-width="4"/>
                                <circle class="mdc-circular-progress__determinate-circle" cx="24" cy="24" r="18" stroke-dasharray="113.097" stroke-dashoffset="113.097" stroke-width="4"/>
                            </svg>
                        </div>
                        <div class="mdc-circular-progress__indeterminate-container">
                            <div class="mdc-circular-progress__spinner-layer">
                                <div class="mdc-circular-progress__circle-clipper mdc-circular-progress__circle-left">
                                    <svg class="mdc-circular-progress__indeterminate-circle-graphic" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="24" cy="24" r="18" stroke-dasharray="113.097" stroke-dashoffset="56.549" stroke-width="4"/>
                                    </svg>
                                </div>
                                <div class="mdc-circular-progress__gap-patch">
                                    <svg class="mdc-circular-progress__indeterminate-circle-graphic" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="24" cy="24" r="18" stroke-dasharray="113.097" stroke-dashoffset="56.549" stroke-width="3.2"/>
                                    </svg>
                                </div>
                                <div class="mdc-circular-progress__circle-clipper mdc-circular-progress__circle-right">
                                    <svg class="mdc-circular-progress__indeterminate-circle-graphic" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="24" cy="24" r="18" stroke-dasharray="113.097" stroke-dashoffset="56.549" stroke-width="4"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>
                    <p class="mdc-typography--body1">Loading reforms...</p>
                </div>

                <!-- LIST VIEW -->
                <div id="listView" class="view-container active">
                    <div id="reformsList" class="reforms-list"></div>
                    <div id="noResultsList" class="no-results container-hidden">
                        <h3 class="mdc-typography--headline6">No Reforms Found</h3>
                        <p class="mdc-typography--body1">Try adjusting your filters to see more results.</p>
                    </div>
                </div>

                <!-- MAP VIEW -->
                <div id="mapView" class="view-container">
                    <div id="map"></div>
                    <div id="mapOverlay" class="map-overlay mdc-card">
                        <button class="mdc-icon-button map-overlay-close" id="closeOverlay">
                            <i class="material-icons mdc-icon-button__icon">close</i>
                        </button>
                        <div class="map-overlay-header mdc-typography--headline6" id="overlayHeader"></div>
                        <div id="overlayCards" class="reforms-list"></div>
                    </div>
                </div>

                <!-- ABOUT VIEW -->
                <div id="aboutView" class="view-container">
                    <div class="about-content">
                        <h2>What The Atlas Is</h2>
                        <p>
                            The Abundant City Policy Atlas is a tool to track and display pro-housing, pro-urban policies adopted in jurisdictions throughout the United States. 
                            You can use it to track the spread of policy reforms throughout the country, or alternatively to examine which changes a particular 
                            jurisdiction has adopted.
                        </p>
                        <p>
                            You can filter reforms by type, jurisdiction (city/county/state), population, location, and view results on an interactive map or as a detailed list.
                        </p>

                        <h2>What The Atlas Doesn't Do</h2>
                        <div class="disclaimer">
                            <strong>Important Limitations:</strong>
                            <ul>
                                <li>This map does <strong>not</strong> provide legal advice or guarantee the accuracy of reform details</li>
                                <li>Reforms are reported by various sources and may have incomplete or outdated information</li>
                                <li>Not all parking and zoning reforms are included - coverage depends on our data sources</li>
                                <li>The map shows reforms that have been proposed and adopted, not necessarily what is currently in effect (some reforms may have been repealed or modified)</li>
                                <li>Always consult official municipal sources for authoritative information</li>
                            </ul>
                        </div>

                        <h2>Types of Reforms Tracked</h2>
                        <ul>
                            <li><strong>Parking</strong> - changes to parking requirements, including:
                                <ul>
                                    <li><strong>Eliminated parking minimums</strong> - removed requirements that force developers to build parking</li>
                                    <li><strong>Reduced parking minimums</strong> - lowered the amount of required parking</li>
                                    <li><strong>Added parking maximums</strong> - capped the amount of parking that can be built</li>
                                </ul>
                            </li>
                            <li><strong>Zoning</strong> - 
                                <ul>
                                    <li><strong>ADU Reforms</strong> - changes that make it easier to build accessory dwelling units</li>
                                    <li><strong>Multi-Family Housing Legalization</strong> - reforms that allow duplexes, triplexes, and other multi-family housing types in more areas</li>
                                    <li><strong>Transit-Oriented Development</strong> - zoning changes that promote higher density and mixed-use development near transit hubs</li>
                                    <li><strong>Other Zoning Changes</strong> - various reforms aimed at increasing housing supply and affordability</li>   
                                </ul>
                            </li>
                        </ul>

                        <h2>Source Partners</h2>
                        <p>
                            This map aggregates data from multiple trusted sources in the urbanist movement. Each reform entry displays badges showing which sources reported it.
                        </p>

                        <div id="sourcesLoading" class="loading">
                            <div class="mdc-circular-progress" style="width:48px;height:48px;margin:0 auto;" role="progressbar" aria-label="Loading sources" aria-valuemin="0" aria-valuemax="1">
                                <div class="mdc-circular-progress__determinate-container">
                                    <svg class="mdc-circular-progress__determinate-circle-graphic" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                                        <circle class="mdc-circular-progress__determinate-track" cx="24" cy="24" r="18" stroke-width="4"/>
                                        <circle class="mdc-circular-progress__determinate-circle" cx="24" cy="24" r="18" stroke-dasharray="113.097" stroke-dashoffset="113.097" stroke-width="4"/>
                                    </svg>
                                </div>
                                <div class="mdc-circular-progress__indeterminate-container">
                                    <div class="mdc-circular-progress__spinner-layer">
                                        <div class="mdc-circular-progress__circle-clipper mdc-circular-progress__circle-left">
                                            <svg class="mdc-circular-progress__indeterminate-circle-graphic" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                                                <circle cx="24" cy="24" r="18" stroke-dasharray="113.097" stroke-dashoffset="56.549" stroke-width="4"/>
                                            </svg>
                                        </div>
                                        <div class="mdc-circular-progress__gap-patch">
                                            <svg class="mdc-circular-progress__indeterminate-circle-graphic" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                                                <circle cx="24" cy="24" r="18" stroke-dasharray="113.097" stroke-dashoffset="56.549" stroke-width="3.2"/>
                                            </svg>
                                        </div>
                                        <div class="mdc-circular-progress__circle-clipper mdc-circular-progress__circle-right">
                                            <svg class="mdc-circular-progress__indeterminate-circle-graphic" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                                                <circle cx="24" cy="24" r="18" stroke-dasharray="113.097" stroke-dashoffset="56.549" stroke-width="4"/>
                                            </svg>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p class="mdc-typography--body1" style="margin-top: 16px;">Loading sources...</p>
                        </div>

                        <div id="sourcesError" class="error container-hidden" style="display: none;"></div>

                        <div id="sourcesGrid" class="sources-grid container-hidden" style="display: none;"></div>

                        <h2>How to Contribute Data</h2>
                        
                        <h3>Report a New Reform</h3>
                        <p>If you know of a parking or zoning reform that's not on the map:</p>
                        <ol>
                            <li><strong>For parking reforms:</strong> Submit directly to <a href="https://parkingreform.org/" target="_blank">Parking Reform Network</a></li>
                            <li><strong>For zoning reforms:</strong> Check if it's already tracked by <a href="https://belonging.berkeley.edu/zoning-reform-tracker" target="_blank">Berkeley's Zoning Reform Tracker</a></li>
                            <li><strong>For this project:</strong> Open an issue or pull request on our GitHub repository</li>
                        </ol>

                        <h3>Improve Existing Data</h3>
                        <p>Found an error or want to add more detail to an existing reform?</p>
                        <ul>
                            <li>Contact the original data source (PRN or Berkeley) - corrections there will automatically flow to this map</li>
                            <li>For technical issues with the map itself, report them via GitHub issues</li>
                        </ul>

                        <h3>Technical Contributions</h3>
                        <p>This is an open-source project! Developers and data scientists can contribute by:</p>
                        <ul>
                            <li>Adding new data sources or ingestion scripts</li>
                            <li>Improving the map visualization and filtering capabilities</li>
                            <li>Enhancing data quality and validation</li>
                            <li>Adding new features or analysis tools</li>
                        </ul>
                        <p>See the repository's <code>README.md</code> for development setup instructions.</p>

                        <h2>Who Created This</h2>
                        <p>
                            This map was created by urbanist advocates to make parking and zoning reform data more accessible and actionable. The project combines data from the Parking Reform Network and UC Berkeley's Othering & Belonging Institute into a single, searchable interface.
                        </p>
                        <p>
                            The map is built with:
                        </p>
                        <ul>
                            <li><strong>Frontend:</strong> Vanilla JavaScript with Mapbox GL JS for mapping</li>
                            <li><strong>Backend:</strong> Netlify Functions (serverless) with PostgreSQL/PostGIS database</li>
                            <li><strong>Data:</strong> Regular ingestion from PRN and Berkeley ZRT sources</li>
                            <li><strong>Hosting:</strong> Netlify with Neon (serverless PostgreSQL)</li>
                        </ul>

                        <h2>License & Terms</h2>
                        <p>
                            This map and its underlying data are provided for informational purposes only. While we strive for accuracy, we make no guarantees about the completeness or correctness of the information presented.
                        </p>
                        <p>
                            Data from our sources (PRN and Berkeley ZRT) remains subject to their respective licenses and terms of use. Please consult those organizations for authoritative information.
                        </p>

                        <h2>Contact</h2>
                        <p>
                            Questions, feedback, or suggestions? Open an issue on GitHub or reach out to the project maintainers.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- noUiSlider JS - must load before slider.js -->
    <script src="https://cdn.jsdelivr.net/npm/nouislider@15.7.1/dist/nouislider.min.js"></script>
    <!-- JavaScript modules - loaded in dependency order -->
    <script src="/js/state.js"></script>
    <script src="/js/ui-elements.js"></script>
    <script src="/js/slider.js"></script>
    <script src="/js/filters.js"></script>
    <script src="/js/filter-config.js"></script>
    <script src="/js/ui.js"></script>
    <script src="/js/reforms.js"></script>
    <script src="/js/map.js"></script>
    <script src="/js/share.js"></script>
    <script src="/js/events.js"></script>
    <script src="/js/init.js"></script>
</body>
</html>
